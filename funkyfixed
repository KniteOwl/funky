local library = loadstring(game:HttpGet(('https://raw.githubusercontent.com/Maxgat5/UiLib/main/lua')))()
local w = library:CreateWindow("Bank Robbery Simulator")
local b = w:CreateFolder("AutoFarm")
local f = w:CreateFolder("AutoBuy")
local e = w:CreateFolder("Mix")
local u = w:CreateFolder("Credits")

b:Toggle("AutoCollectDrop",function(bool)
    shared.toggle = bool
    AutoCollectDrop = bool
end)

b:Toggle("AutoSell",function(bool)
    shared.toggle = bool
    AutoSell = bool
end)

f:Toggle("Bag",function(bool)
    shared.toggle = bool
    UpgradeBag = bool
end)

e:Toggle("AntiAfk",function(bool)
    shared.toggle = bool
    AntiAfk = bool
end)

e:Button("Delete Kill Parts (Bank)",function()
    for i,v in pairs(game:GetService("Workspace").Areas:GetChildren()) do
        for i1,v1 in pairs(v.Banks:GetChildren()) do
            for i2,v2 in pairs(v1:GetDescendants()) do
                if string.find(v2.Name,"Lava") or string.find(v2.Name,"Moving") then
                    v2:Destroy()
                end
            end
        end
    end
end)

e:Button("Finish Bank (Trun Off AutoCollectDrop)",function()
    if game:GetService("Players").LocalPlayer.PlayerGui.Gui.SideButtons.LeaveBank.Visible == true then
        function ClosestPart()
            local dist = math.huge
            local target = nil
            for i,v in pairs(game:GetService("Workspace").Areas:GetChildren()) do
                for i1,v1 in pairs(v.Banks:GetChildren()) do
                    for i2,v2 in pairs(v1.ImportantParts:GetChildren()) do
                        if v2.ClassName == "Model" then
                            if v2.Door.Transparency == 0 then
                                local magnitude = (v2.Door.Position - game:GetService("Players").LocalPlayer.Character.Head.Position).magnitude
                                if magnitude < dist then
                                    dist = magnitude
                                    target = v2.Parent
                                end
                            end
                        end
                    end
                end
            end
            return target
        end
        sheesh = {}
        for i,v in pairs(ClosestPart():GetChildren()) do
            if v.ClassName == "Model" then
                if string.find(v.Name,"Door") then
                    if not string.find(v.Name,"Secret") then
                        a = string.gsub(v.Name,"Door","")
                        table.insert(sheesh,a)
                    end
                end
            end
        end
        table.sort(sheesh)
        for i=1,#sheesh do
            pcall(function()
                for i1,v in pairs(ClosestPart():GetChildren()) do
                    if v.ClassName == "Model" then
                        if v.Name == "Door"..sheesh[i] then
                            repeat wait()
                                string = string.gsub(v.Circle.GUIs.HealthInfo.Frame.Amount.Text,"HP","")
                                a,b = string:match("(.+)/(.+)")
                                if a ~= 0 then
                                    if game:GetService("Players").LocalPlayer.PlayerGui.Gui.SideButtons.LeaveBank.Visible == true then
                                        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(v.Door.CFrame.Position + Vector3.new(0,0,0))
                                        wait(.1)
                                        fireproximityprompt(v.Door.Prompt.ProximityPrompt,0)
                                        fireproximityprompt(v.Door.Prompt.ProximityPrompt,1)
                                        wait(.1)
                                    else
                                        game:GetService("Players").LocalPlayer.Character.Humanoid.Health = 0
                                    end
                                end
                            until v.Door.Transparency == 1
                        end
                    end
                end
            end)
        end
        for i1,v in pairs(ClosestPart():GetChildren()) do
            if v.ClassName == "Model" then
                if v.Name == "Vault" then
                    string = string.gsub(v.Circle.GUIs.HealthInfo.Frame.Amount.Text,"HP","")
                    a,b = string:match("(.+)/(.+)")
                    if a ~= 0 then
                        if game:GetService("Players").LocalPlayer.PlayerGui.Gui.SideButtons.LeaveBank.Visible == true then
                            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(v.Door.CFrame.Position + Vector3.new(0,0,0))
                            wait(.1)
                        else
                            game:GetService("Players").LocalPlayer.Character.Humanoid.Health = 0
                        end
                    end
                end
            end
        end
    else
        game:GetService("Players").LocalPlayer.Character.Humanoid.Health = 0
    end
end)

--Credits
u:Button(game:service("HttpService"):JSONDecode(game:HttpGet("https://raw.githubusercontent.com/Maxgat5/Decode/main/JSON")).username,function()
    setclipboard(game:service("HttpService"):JSONDecode(game:HttpGet("https://raw.githubusercontent.com/Maxgat5/Decode/main/JSON")).username)
end)
 
u:Button("Discord Server",function()
    setclipboard(game:service("HttpService"):JSONDecode(game:HttpGet("https://raw.githubusercontent.com/Maxgat5/Decode/main/JSON")).discord)
end)

game:GetService('RunService').Stepped:connect(function()
    spawn(function()
        pcall(function()
            if AutoCollectDrop == true then
                function ClosestPart()
                    local dist = 30000
                    local target = nil
                    for i,v in pairs(game:GetService("Workspace").Areas:GetChildren()) do
                        for i1,v1 in pairs(v.PickupItems:GetChildren()) do
                            local magnitude = (v1.Main.Position - game:GetService("Players").LocalPlayer.Character.Head.Position).magnitude
                            if magnitude < dist then
                                dist = magnitude
                                target = v1
                            end
                        end
                    end
                    return target
                end
                firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart, ClosestPart().Main, 1)
                firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart, ClosestPart().Main, 0)
            end
        end)
    end)
    
    spawn(function()
        pcall(function()
            if AutoSell == true then
                numbers = {}
                for i,v in pairs(game:GetService("Workspace").Areas:GetChildren()) do
                    table.insert(numbers,v.Name)
                end
                firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart, game:GetService("Workspace").Areas[math.max(table.unpack(numbers))].Sell, 0)
                firetouchinterest(game.Players.LocalPlayer.Character.HumanoidRootPart, game:GetService("Workspace").Areas[math.max(table.unpack(numbers))].Sell, 1)
            end
        end)
    end)
    
    spawn(function()
        pcall(function()
            if UpgradeBag == true then
                local Cost = string.gsub(game:GetService("Players").LocalPlayer.PlayerGui.Menus.Upgrade.Button.Coins.Amount.Text,"COST: ","") 
                if tonumber(Cost) <= tonumber(game:GetService("Players").LocalPlayer.PlayerGui.Gui.Coins.Amount.Text) then
                    function ClosestPart()
                        local dist = math.huge
                        local target = nil
                        for i,v in pairs(game:GetService("Workspace").Areas:GetChildren()) do
                            local magnitude = (v.Upgrade.Position - game:GetService("Players").LocalPlayer.Character.Head.Position).magnitude
                            if magnitude < dist then
                                dist = magnitude
                                target = v
                            end
                        end
                        return target
                    end
                    function ClosestPart1()
                        local dist = math.huge
                        local target = nil
                        local sheeeesh = {}
                        for i,v in pairs(ClosestPart():GetChildren()) do
                            table.insert(sheeeesh,v.Name)
                        end
                        if not string.find(table.concat(sheeeesh),"Giant") then
                            for i,v in pairs(ClosestPart():GetChildren()) do
                                if v.Name == "Upgrade" then
                                    local magnitude = (v.Position - game:GetService("Players").LocalPlayer.Character.Head.Position).magnitude
                                    if magnitude < dist then
                                        dist = magnitude
                                        target = v
                                    end
                                end
                            end
                        end
                        if string.find(table.concat(sheeeesh),"Giant") then
                            if game:GetService("Workspace").Areas:FindFirstChild(ClosestPart().Name - 1) then
                                local area = ClosestPart().Name - 1
                                local sheeeesh1 = {}
                                for i,v in pairs(game:GetService("Workspace").Areas[area]:GetChildren()) do
                                    table.insert(sheeeesh1,v.Name)
                                end
                                if not string.find(table.concat(sheeeesh1),"Giant") then
                                    for i,v in pairs(game:GetService("Workspace").Areas[area]:GetChildren()) do
                                        if v.Name == "Upgrade" then
                                            local magnitude = (v.Position - game:GetService("Players").LocalPlayer.Character.Head.Position).magnitude
                                            if magnitude < dist then
                                                dist = magnitude
                                                target = game:GetService("Workspace").Areas[area + 1].Upgrade
                                            end
                                        end
                                    end
                                end
                            end
                        end
                        if string.find(table.concat(sheeeesh),"Giant") then
                            if not game:GetService("Workspace").Areas:FindFirstChild(ClosestPart().Name - 1) then
                                for i,v in pairs(game:GetService("Workspace").Areas[ClosestPart().Name]:GetChildren()) do
                                    if v.Name == "Upgrade" then
                                        local magnitude = (v.Position - game:GetService("Players").LocalPlayer.Character.Head.Position).magnitude
                                        if magnitude < dist then
                                            dist = magnitude
                                            target = game:GetService("Workspace").Areas[ClosestPart().Name].Upgrade
                                        end
                                    end
                                end
                            end
                        end
                        if string.find(table.concat(sheeeesh),"Giant") then
                            if game:GetService("Workspace").Areas:FindFirstChild(ClosestPart().Name - 1) then
                                local area = ClosestPart().Name - 1
                                local sheeeesh1 = {}
                                for i,v in pairs(game:GetService("Workspace").Areas[area]:GetChildren()) do
                                    table.insert(sheeeesh1,v.Name)
                                end
                                if string.find(table.concat(sheeeesh1),"Giant") then
                                    if game:GetService("Workspace").Areas:FindFirstChild(ClosestPart().Name - 2) then
                                        local area1 = ClosestPart().Name - 2
                                        local sheeeesh2 = {}
                                        for i,v in pairs(game:GetService("Workspace").Areas[area1]:GetChildren()) do
                                            table.insert(sheeeesh2,v.Name)
                                        end
                                        if not string.find(table.concat(sheeeesh2),"Giant") then
                                            for i,v in pairs(game:GetService("Workspace").Areas[area1]:GetChildren()) do
                                                if v.Name == "Upgrade" then
                                                    local magnitude = (v.Position - game:GetService("Players").LocalPlayer.Character.Head.Position).magnitude
                                                    if magnitude < dist then
                                                        dist = magnitude
                                                        target = game:GetService("Workspace").Areas[area1 + 1].Upgrade
                                                    end
                                                end
                                            end
                                        end
                                    end
                                end
                            end
                        end
                        return target
                    end
                    pcall(function()
                        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(ClosestPart1().CFrame.Position + Vector3.new(0,0,0))
                        game:GetService("ReplicatedStorage").Events.UIAction:FireServer("UpgradeBag",ClosestPart1())
                    end)
                end
            end
        end)
    end)
    
    spawn(function()
        if AntiAfk == true then
            local bb=game:service'VirtualUser'
            bb:CaptureController()
            bb:ClickButton2(Vector2.new())
        end
    end)
end)
